{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rodri\\\\Desktop\\\\prueba\\\\mi_web\\\\frontend\\\\src\\\\components\\\\FormularioMedicamento.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport \"../FormularioFuncionario.css\"; // reutilizamos el mismo CSS\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FormularioMedicamento({\n  medicamento,\n  setEditing,\n  refresh,\n  residentes\n}) {\n  _s();\n  const [rut_residente, setRutResidente] = useState(medicamento.rut_residente || \"\");\n  const [nombre, setNombre] = useState(medicamento.nombre || \"\");\n  const [dosis, setDosis] = useState(medicamento.dosis || \"\");\n  const [caso_sos, setCasoSos] = useState(medicamento.caso_sos || false);\n  const [medico_indicador, setMedicoIndicador] = useState(medicamento.medico_indicador || \"\");\n  const [fecha_inicio, setFechaInicio] = useState(medicamento.fecha_inicio || \"\");\n  const [fecha_termino, setFechaTermino] = useState(medicamento.fecha_termino || \"\");\n  const handleSubmit = async () => {\n    const url = medicamento.id ? `http://localhost:5000/api/medicamentos/${medicamento.id}` : \"http://localhost:5000/api/medicamentos\";\n    const method = medicamento.id ? \"PUT\" : \"POST\";\n    await fetch(url, {\n      method,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        rut_residente,\n        nombre,\n        dosis,\n        caso_sos,\n        medico_indicador,\n        fecha_inicio,\n        fecha_termino\n      })\n    });\n    refresh();\n    setEditing(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: medicamento.id ? \"Editar Medicamento\" : \"Nuevo Medicamento\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: rut_residente,\n      onChange: e => setRutResidente(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Seleccione residente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), residentes.map(r => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: r.rut,\n        children: [r.nombres, \" \", r.apellidos]\n      }, r.rut, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 30\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Nombre\",\n      value: nombre,\n      onChange: e => setNombre(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Dosis\",\n      value: dosis,\n      onChange: e => setDosis(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Medico Indicador\",\n      value: medico_indicador,\n      onChange: e => setMedicoIndicador(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        checked: caso_sos,\n        onChange: e => setCasoSos(e.target.checked)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), \"Caso SOS\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      value: fecha_inicio,\n      onChange: e => setFechaInicio(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      value: fecha_termino,\n      onChange: e => setFechaTermino(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      children: medicamento.id ? \"Actualizar\" : \"Crear\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setEditing(null),\n      children: \"Cancelar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(FormularioMedicamento, \"PLYwop1S3cccRDZOoR3ZwtgzwS8=\");\n_c = FormularioMedicamento;\nvar _c;\n$RefreshReg$(_c, \"FormularioMedicamento\");","map":{"version":3,"names":["useState","useEffect","jsxDEV","_jsxDEV","FormularioMedicamento","medicamento","setEditing","refresh","residentes","_s","rut_residente","setRutResidente","nombre","setNombre","dosis","setDosis","caso_sos","setCasoSos","medico_indicador","setMedicoIndicador","fecha_inicio","setFechaInicio","fecha_termino","setFechaTermino","handleSubmit","url","id","method","fetch","headers","credentials","body","JSON","stringify","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","map","r","rut","nombres","apellidos","placeholder","type","checked","onClick","_c","$RefreshReg$"],"sources":["C:/Users/rodri/Desktop/prueba/mi_web/frontend/src/components/FormularioMedicamento.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport \"../FormularioFuncionario.css\"; // reutilizamos el mismo CSS\r\n\r\nexport default function FormularioMedicamento({ medicamento, setEditing, refresh, residentes }) {\r\n  const [rut_residente, setRutResidente] = useState(medicamento.rut_residente || \"\");\r\n  const [nombre, setNombre] = useState(medicamento.nombre || \"\");\r\n  const [dosis, setDosis] = useState(medicamento.dosis || \"\");\r\n  const [caso_sos, setCasoSos] = useState(medicamento.caso_sos || false);\r\n  const [medico_indicador, setMedicoIndicador] = useState(medicamento.medico_indicador || \"\");\r\n  const [fecha_inicio, setFechaInicio] = useState(medicamento.fecha_inicio || \"\");\r\n  const [fecha_termino, setFechaTermino] = useState(medicamento.fecha_termino || \"\");\r\n\r\n  const handleSubmit = async () => {\r\n    const url = medicamento.id\r\n      ? `http://localhost:5000/api/medicamentos/${medicamento.id}`\r\n      : \"http://localhost:5000/api/medicamentos\";\r\n    const method = medicamento.id ? \"PUT\" : \"POST\";\r\n\r\n    await fetch(url, {\r\n      method,\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      credentials: \"include\",\r\n      body: JSON.stringify({ rut_residente, nombre, dosis, caso_sos, medico_indicador, fecha_inicio, fecha_termino })\r\n    });\r\n\r\n    refresh();\r\n    setEditing(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>{medicamento.id ? \"Editar Medicamento\" : \"Nuevo Medicamento\"}</h3>\r\n\r\n      <select value={rut_residente} onChange={e => setRutResidente(e.target.value)}>\r\n        <option value=\"\">Seleccione residente</option>\r\n        {residentes.map(r => <option key={r.rut} value={r.rut}>{r.nombres} {r.apellidos}</option>)}\r\n      </select>\r\n\r\n      <input placeholder=\"Nombre\" value={nombre} onChange={e => setNombre(e.target.value)} />\r\n      <input placeholder=\"Dosis\" value={dosis} onChange={e => setDosis(e.target.value)} />\r\n      <input placeholder=\"Medico Indicador\" value={medico_indicador} onChange={e => setMedicoIndicador(e.target.value)} />\r\n      <label>\r\n        <input type=\"checkbox\" checked={caso_sos} onChange={e => setCasoSos(e.target.checked)} />\r\n        Caso SOS\r\n      </label>\r\n      <input type=\"date\" value={fecha_inicio} onChange={e => setFechaInicio(e.target.value)} />\r\n      <input type=\"date\" value={fecha_termino} onChange={e => setFechaTermino(e.target.value)} />\r\n\r\n      <button onClick={handleSubmit}>{medicamento.id ? \"Actualizar\" : \"Crear\"}</button>\r\n      <button onClick={() => setEditing(null)}>Cancelar</button>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}