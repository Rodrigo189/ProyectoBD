{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rodri\\\\Desktop\\\\data\\\\prueba\\\\mi_web\\\\frontend\\\\src\\\\components\\\\FormularioMedicamento.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport \"../DashboardFuncionario.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FormularioMedicamento({\n  medicamento,\n  setEditing,\n  refresh,\n  residentes\n}) {\n  _s();\n  const [rut_residente, setRutResidente] = useState(medicamento.rut_residente || \"\");\n  const [nombre, setNombre] = useState(medicamento.nombre || \"\");\n  const [dosis, setDosis] = useState(medicamento.dosis || \"\");\n  const [caso_sos, setCasoSos] = useState(medicamento.caso_sos || false);\n  const [medico_indicador, setMedicoIndicador] = useState(medicamento.medico_indicador || \"\");\n  const [fecha_inicio, setFechaInicio] = useState(medicamento.fecha_inicio || \"\");\n  const [fecha_termino, setFechaTermino] = useState(medicamento.fecha_termino || \"\");\n  const handleSubmit = async () => {\n    if (!rut_residente) {\n      alert(\"Debe ingresar un RUT para asignar el medicamento\");\n      return;\n    }\n    const url = medicamento.id ? `http://localhost:5000/api/medicamentos/${medicamento.id}` : \"http://localhost:5000/api/medicamentos\";\n    const body = {\n      rut_residente,\n      nombre,\n      dosis,\n      caso_sos,\n      medico_indicador,\n      fecha_inicio: fecha_inicio || null,\n      fecha_termino: fecha_termino || null\n    };\n    try {\n      const res = await fetch(url, {\n        method: medicamento.id ? \"PUT\" : \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      });\n      if (!res.ok) {\n        const text = await res.text();\n        throw new Error(text);\n      }\n      refresh();\n      setEditing(null);\n    } catch (error) {\n      alert(\"Error al guardar el medicamento: \" + error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-medicamento\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: medicamento.id ? \"Editar Medicamento\" : \"Nuevo Medicamento\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"RUT del Residente\",\n      value: rut_residente,\n      onChange: e => setRutResidente(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Nombre\",\n      value: nombre,\n      onChange: e => setNombre(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Dosis\",\n      value: dosis,\n      onChange: e => setDosis(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"CASO SOS:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        checked: caso_sos,\n        onChange: e => setCasoSos(e.target.checked)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"M\\xE9dico indicador\",\n      value: medico_indicador,\n      onChange: e => setMedicoIndicador(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      value: fecha_inicio,\n      onChange: e => setFechaInicio(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      value: fecha_termino,\n      onChange: e => setFechaTermino(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      children: medicamento.id ? \"Actualizar\" : \"Crear\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setEditing(null),\n      children: \"Cancelar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(FormularioMedicamento, \"PLYwop1S3cccRDZOoR3ZwtgzwS8=\");\n_c = FormularioMedicamento;\nvar _c;\n$RefreshReg$(_c, \"FormularioMedicamento\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","FormularioMedicamento","medicamento","setEditing","refresh","residentes","_s","rut_residente","setRutResidente","nombre","setNombre","dosis","setDosis","caso_sos","setCasoSos","medico_indicador","setMedicoIndicador","fecha_inicio","setFechaInicio","fecha_termino","setFechaTermino","handleSubmit","alert","url","id","body","res","fetch","method","headers","JSON","stringify","ok","text","Error","error","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","type","checked","onClick","_c","$RefreshReg$"],"sources":["C:/Users/rodri/Desktop/data/prueba/mi_web/frontend/src/components/FormularioMedicamento.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport \"../DashboardFuncionario.css\";\r\n\r\nexport default function FormularioMedicamento({ medicamento, setEditing, refresh, residentes }) {\r\n  const [rut_residente, setRutResidente] = useState(medicamento.rut_residente || \"\");\r\n  const [nombre, setNombre] = useState(medicamento.nombre || \"\");\r\n  const [dosis, setDosis] = useState(medicamento.dosis || \"\");\r\n  const [caso_sos, setCasoSos] = useState(medicamento.caso_sos || false);\r\n  const [medico_indicador, setMedicoIndicador] = useState(medicamento.medico_indicador || \"\");\r\n  const [fecha_inicio, setFechaInicio] = useState(medicamento.fecha_inicio || \"\");\r\n  const [fecha_termino, setFechaTermino] = useState(medicamento.fecha_termino || \"\");\r\n\r\n  const handleSubmit = async () => {\r\n    if (!rut_residente) {\r\n      alert(\"Debe ingresar un RUT para asignar el medicamento\");\r\n      return;\r\n    }\r\n\r\n    const url = medicamento.id\r\n      ? `http://localhost:5000/api/medicamentos/${medicamento.id}`\r\n      : \"http://localhost:5000/api/medicamentos\";\r\n\r\n    const body = {\r\n      rut_residente,\r\n      nombre,\r\n      dosis,\r\n      caso_sos,\r\n      medico_indicador,\r\n      fecha_inicio: fecha_inicio || null,\r\n      fecha_termino: fecha_termino || null\r\n    };\r\n\r\n    try {\r\n      const res = await fetch(url, {\r\n        method: medicamento.id ? \"PUT\" : \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(body)\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const text = await res.text();\r\n        throw new Error(text);\r\n      }\r\n\r\n      refresh();\r\n      setEditing(null);\r\n    } catch (error) {\r\n      alert(\"Error al guardar el medicamento: \" + error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-medicamento\">\r\n      <h3>{medicamento.id ? \"Editar Medicamento\" : \"Nuevo Medicamento\"}</h3>\r\n\r\n      <input\r\n        placeholder=\"RUT del Residente\"\r\n        value={rut_residente}\r\n        onChange={e => setRutResidente(e.target.value)}\r\n      />\r\n      <input placeholder=\"Nombre\" value={nombre} onChange={e => setNombre(e.target.value)} />\r\n      <input placeholder=\"Dosis\" value={dosis} onChange={e => setDosis(e.target.value)} />\r\n      <label>\r\n        CASO SOS:\r\n        <input type=\"checkbox\" checked={caso_sos} onChange={e => setCasoSos(e.target.checked)} />\r\n      </label>\r\n      <input placeholder=\"MÃ©dico indicador\" value={medico_indicador} onChange={e => setMedicoIndicador(e.target.value)} />\r\n      <input type=\"date\" value={fecha_inicio} onChange={e => setFechaInicio(e.target.value)} />\r\n      <input type=\"date\" value={fecha_termino} onChange={e => setFechaTermino(e.target.value)} />\r\n      <button onClick={handleSubmit}>{medicamento.id ? \"Actualizar\" : \"Crear\"}</button>\r\n      <button onClick={() => setEditing(null)}>Cancelar</button>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}