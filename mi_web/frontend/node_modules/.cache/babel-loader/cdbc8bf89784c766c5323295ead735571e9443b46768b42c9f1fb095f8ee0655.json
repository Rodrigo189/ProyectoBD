{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import'../HistorialClinico.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function HistorialClinico(){const{rut}=useParams();const navigate=useNavigate();const[registros,setRegistros]=useState([]);const[error,setError]=useState('');const[loading,setLoading]=useState(true);useEffect(()=>{const cargarHistorial=async()=>{try{const response=await axios.get(\"http://localhost:5000/api/historial-clinico/\".concat(rut));setRegistros(response.data);setError('');}catch(err){setError('Error al cargar el historial clínico');console.error('Error:',err);}finally{setLoading(false);}};cargarHistorial();},[rut]);const handleNuevoRegistro=()=>{navigate(\"/formulario-signos-vitales/\".concat(rut));};const handleVolver=()=>{navigate(-1);// Vuelve a la página anterior\n};const handleBuscarPaciente=()=>{navigate('/buscar-paciente');};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Cargando...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});return/*#__PURE__*/_jsxs(\"div\",{className:\"historial-clinico-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/funcionarios.png\",alt:\"Red ELEAM\",className:\"logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"HISTORIAL DEL CL\\xCDNICO\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-paciente\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nombre residente:\"}),\" Juan P\\xE9rez\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"RUN:\"}),\" \",rut]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"M\\xE9dico tratante:\"}),\" Dr. Garc\\xEDa\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Pr\\xF3ximo control:\"}),\" 2025-10-22\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"botones-container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleBuscarPaciente,className:\"btn-accion\",children:\"BUSCAR PACIENTE\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleVolver,className:\"btn-accion\",children:\"VOLVER AL MEN\\xDA\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNuevoRegistro,className:\"btn-accion\",children:\"GENERAR NUEVOS REPORTS\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ultimos-registros\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\xDAltimos registros:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tabla-container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Fecha\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Hora\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Signo Vital\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Valor\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:registros.map((registro,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:registro.fecha}),/*#__PURE__*/_jsx(\"td\",{children:registro.hora}),/*#__PURE__*/_jsx(\"td\",{children:registro.signoVital}),/*#__PURE__*/_jsx(\"td\",{children:registro.valor})]},index))})]})})]})]});}export default HistorialClinico;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","HistorialClinico","rut","navigate","registros","setRegistros","error","setError","loading","setLoading","cargarHistorial","response","get","concat","data","err","console","handleNuevoRegistro","handleVolver","handleBuscarPaciente","children","className","src","alt","onClick","map","registro","index","fecha","hora","signoVital","valor"],"sources":["C:/Users/rodri/Desktop/prueba/mi_web/frontend/src/components/HistorialClinico.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport '../HistorialClinico.css';\n\nfunction HistorialClinico() {\n    const { rut } = useParams();\n    const navigate = useNavigate();\n    const [registros, setRegistros] = useState([]);\n    const [error, setError] = useState('');\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const cargarHistorial = async () => {\n            try {\n                const response = await axios.get(`http://localhost:5000/api/historial-clinico/${rut}`);\n                setRegistros(response.data);\n                setError('');\n            } catch (err) {\n                setError('Error al cargar el historial clínico');\n                console.error('Error:', err);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        cargarHistorial();\n    }, [rut]);\n\n    const handleNuevoRegistro = () => {\n        navigate(`/formulario-signos-vitales/${rut}`);\n    };\n\n    const handleVolver = () => {\n        navigate(-1); // Vuelve a la página anterior\n    };\n\n    const handleBuscarPaciente = () => {\n        navigate('/buscar-paciente');\n    };\n\n    if (loading) return <div>Cargando...</div>;\n    if (error) return <div>Error: {error}</div>;\n\n    return (\n        <div className=\"historial-clinico-container\">\n            <div className=\"header\">\n                <img src=\"/funcionarios.png\" alt=\"Red ELEAM\" className=\"logo\" />\n                <h1>HISTORIAL DEL CLÍNICO</h1>\n            </div>\n\n            <div className=\"info-paciente\">\n                <p><strong>Nombre residente:</strong> Juan Pérez</p>\n                <p><strong>RUN:</strong> {rut}</p>\n                <p><strong>Médico tratante:</strong> Dr. García</p>\n                <p><strong>Próximo control:</strong> 2025-10-22</p>\n            </div>\n\n            <div className=\"botones-container\">\n                <button onClick={handleBuscarPaciente} className=\"btn-accion\">\n                    BUSCAR PACIENTE\n                </button>\n                <button onClick={handleVolver} className=\"btn-accion\">\n                    VOLVER AL MENÚ\n                </button>\n                <button onClick={handleNuevoRegistro} className=\"btn-accion\">\n                    GENERAR NUEVOS REPORTS\n                </button>\n            </div>\n\n            <div className=\"ultimos-registros\">\n                <h3>Últimos registros:</h3>\n                <div className=\"tabla-container\">\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>Fecha</th>\n                                <th>Hora</th>\n                                <th>Signo Vital</th>\n                                <th>Valor</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {registros.map((registro, index) => (\n                                <tr key={index}>\n                                    <td>{registro.fecha}</td>\n                                    <td>{registro.hora}</td>\n                                    <td>{registro.signoVital}</td>\n                                    <td>{registro.valor}</td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default HistorialClinico;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}